(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1796],{43174:function(e,n,t){var r=t(55189)((function(e,n,t){e[t?0:1].push(n)}),(function(){return[[],[]]}));e.exports=r},14335:function(e,n,t){"use strict";var r=t(186),o=t(57247);function i(){var e,n,t=(e=["\n  ","\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return t},t}var a=r.ZP.div.withConfig({componentId:"sc-df4f0a61-0"}).withConfig({componentId:"sc-8414bfcc-0"})(i(),o.Dh);a.defaultProps={p:"24px"},n.Z=a},54070:function(e,n,t){"use strict";var r=t(186),o=t(57247);function i(){var e,n,t=(e=["\n  border-top: 1px solid ",";\n  ","\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return t},t}var a=r.ZP.div.withConfig({componentId:"sc-5ed8a823-0"}).withConfig({componentId:"sc-f8d5720c-0"})(i(),(function(e){return e.theme.colors.cardBorder}),o.Dh);a.defaultProps={p:"24px"},n.Z=a},40774:function(e,n,t){"use strict";var r=t(85893);t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function a(){var e,n,t=(e=["\n  z-index: ",";\n  background-color: ",";\n  color: white;\n  margin: 0;\n  padding: 0;\n  padding: 8px 0;\n  position: absolute;\n  right: ",";\n  top: 0;\n  text-align: center;\n  transform: translateX(30%) translateY(0%) rotate(45deg);\n  transform: ",";\n  transform-origin: top left;\n  width: 96px;\n\n  &:before,\n  &:after {\n    background-color: ",';\n    content: "";\n    height: 100%;\n    margin: 0 -1px; /* Removes tiny gap */\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n\n  &:before {\n    right: 100%;\n  }\n\n  &:after {\n    left: 100%;\n  }\n\n  & > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 96px;\n  }\n'],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return a=function(){return t},t}var l=t(186).ZP.div.withConfig({componentId:"sc-57513cf-0"}).withConfig({componentId:"sc-e6935f77-0"})(a(),(function(e){return e.theme.zIndices.ribbon}),(function(e){var n=e.variantColor,t=void 0===n?"secondary":n;return e.theme.colors[t]}),(function(e){return"right"===e.ribbonPosition?0:"auto"}),(function(e){return"right"===e.ribbonPosition?"translateX(30%) translateY(0%) rotate(45deg)":"translateX(0%) translateY(200%) rotate(-45deg)"}),(function(e){var n=e.variantColor,t=void 0===n?"secondary":n;return e.theme.colors[t]})),s=function(e){var n=e.variantColor,t=e.text,a=e.ribbonPosition,s=i(e,["variantColor","text","ribbonPosition"]);return(0,r.jsx)(l,function(e){for(var n=arguments,t=function(t){var r=null!=n[t]?n[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(n){o(e,n,r[n])}))},r=1;r<arguments.length;r++)t(r);return e}({variantColor:n,ribbonPosition:a},s,{children:(0,r.jsx)("div",{title:t,children:t})}))};s.defaultProps={ribbonPosition:"right"},n.Z=s},21796:function(e,n,t){"use strict";t.d(n,{Z:function(){return Jt}});var r=t(85893),o=t(67294),i=t(186),a=t(2593),l=t(61744),s=t(44431),c=t.n(s),u=t(77044),d=t(57875),f=t(80613),p=t(69323),x=t(69348),h=t(75472),m=t.n(h),j=t(43174),b=t.n(j),g=t(7867),v=t(54295),y=t(9071),k=t(77219),Z=t(82805),w=t(64690),S=t(32115),T=t(84020),P=t(53883),O=t(59808),C=t(32149),I=t(11163),A=t(9507),D=t(14303),z=t(52425),B=t(40774),F=t(14335),E=t(87750),L=t(72989),R=t(64894),M=t(9909),U=t(3876),N=t(29572),$=function(e){var n=e.pool,t=e.stakedBalance,o=e.performanceFee,i=void 0===o?0:o,a=e.showIcon,l=void 0===a||a,s=(0,g.$G)().t,c=n.vaultKey,u=s(c?"APY includes compounding, APR doesn\u2019t. This pool\u2019s METEORITE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),d=(0,M.Z)(u,{placement:"bottom-start"}),p=d.targetRef,x=d.tooltip,h=d.tooltipVisible;return(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[h&&x,(0,r.jsx)(U.Z,{ref:p,children:"".concat(s(c?"APY":"APR"),":")}),(0,r.jsx)(N.Z,{pool:n,stakedBalance:t,performanceFee:i,showIcon:l})]})},K=t(5926);function G(){var e,n,t=(e=["\n  min-width: 280px;\n  max-width: 100%;\n  margin: 0 0 24px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n\n  "," {\n    max-width: 350px;\n    margin: 0 12px 46px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return G=function(){return t},t}var W=(0,i.ZP)(K.Z).withConfig({componentId:"sc-f5fe9aca-0"})(G(),(function(e){var n=e.isFinished;return e.theme.colors[n?"textDisabled":"secondary"]}),(function(e){return e.theme.mediaQueries.sm})),H=t(54070),V=t(99046),Y=t(34146),X=t(73830),J=t(45080);function Q(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function _(){var e=Q(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]);return _=function(){return e},e}function q(){var e=Q(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]);return q=function(){return e},e}var ee=(0,i.ZP)(f.Z).withConfig({componentId:"sc-e85297d9-0"})(_()),ne=(0,i.ZP)(f.Z).withConfig({componentId:"sc-e85297d9-1"})(q()),te=function(e){var n=e.pool,t=e.account,i=e.defaultExpanded,a=e.children,l=n.vaultKey,s=(0,g.$G)().t,c=(0,o.useState)(i||!1),u=c[0],d=c[1],p=s("You must harvest and compound your earnings from this pool manually."),x=s("Rewards are distributed and included into your staking balance automatically. There\u2019s no need to manually compound your rewards."),h=(0,M.Z)(l?x:p,{placement:"bottom"}),m=h.targetRef,j=h.tooltip,b=h.tooltipVisible;return(0,r.jsxs)(H.Z,{children:[(0,r.jsxs)(ee,{children:[(0,r.jsxs)(f.Z,{alignItems:"center",children:[l?(0,r.jsx)(X.yd,{}):(0,r.jsx)(X.EM,{}),b&&j,(0,r.jsx)(f.Z,{ref:m,children:(0,r.jsx)(V.Z,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),(0,r.jsx)(Y.L,{expanded:u,onClick:function(){return d(!u)},children:s(u?"Hide":"Details")})]}),u&&(0,r.jsx)(ne,{flexDirection:"column",children:a||(0,r.jsx)(J.Z,{pool:n,account:t})})]})},re=t(40858);function oe(){var e,n,t=(e=["\n  background: #f2f2f2;\n  border-radius: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return oe=function(){return t},t}var ie=(0,i.ZP)(re.Z).withConfig({componentId:"sc-e7f498e4-0"})(oe(),(function(e){var n=e.theme;return"".concat(n.radii.card," ").concat(n.radii.card," 0 0")})),ae=function(e){var n=e.isFinished,t=e.title,o=e.subTitle;return(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsx)(x.Z,{color:n?"textDisabled":"#FC8E1F",scale:"lg",children:t}),(0,r.jsx)(d.Z,{fontSize:"14px",color:n?"textDisabled":"#000000",children:o})]})},le=function(e){var n=e.isFinished,t=void 0!==n&&n,o=e.isStaking,i=void 0!==o&&o,a=e.children,l=i?"bubblegum":"cardHeader";return(0,r.jsx)(ie,{isFinished:t,background:l,children:(0,r.jsx)(f.Z,{alignItems:"center",justifyContent:"space-between",children:a})})},se=t(27642),ce=t(28829),ue=t(1471),de=t(12080),fe=t(76889),pe=t(57086),xe=t(95565),he=t(99522),me=function(e){var n=e.pool,t=e.isLoading,o=void 0!==t&&t,i=n.sousId,a=n.stakingToken,l=n.earningToken,s=(0,g.$G)().t,c=(0,xe.X_)(a.address||""),u=(0,he.iB)(c,i,l.symbol),d=u.handleApprove,f=u.pendingTx;return(0,r.jsx)(r.Fragment,{children:o?(0,r.jsx)(de.Z,{width:"100%",height:"52px"}):(0,r.jsx)(fe.Z,{isLoading:f,endIcon:f?(0,r.jsx)(pe.Z,{spin:!0,color:"currentColor"}):null,disabled:f,onClick:d,width:"100%",children:s("Enable")})})},je=t(93059),be=t(684),ge=t(83953),ve=t(48472),ye=t(16695),ke=t(58081),Ze=t(13719),we=t(94988);function Se(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Te(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Se(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Se(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe=function(e){var n=e.pool,t=e.stakingTokenBalance,o=e.stakedBalance,i=e.isBnbPool,a=e.isStaked,l=e.isLoading,s=void 0!==l&&l,c=n.stakingToken,u=n.stakingTokenPrice,p=n.stakingLimit,x=n.isFinished,h=n.userData,m=(0,g.$G)().t,j=(0,ye.mW)(o,c.decimals),b=(0,ye.mW)(o.multipliedBy(u),c.decimals),v=Te((0,je.Z)((0,r.jsx)(Ze.Z,{tokenSymbol:c.symbol})),1)[0],y=Te((0,je.Z)((0,r.jsx)(we.Z,{isBnbPool:i,pool:n,stakingTokenBalance:t,stakingTokenPrice:u})),1)[0],k=Te((0,je.Z)((0,r.jsx)(we.Z,{stakingTokenBalance:t,isBnbPool:i,pool:n,stakingTokenPrice:u,isRemovingStake:!0})),1)[0],Z=(0,M.Z)(m("You\u2019ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),w=Z.targetRef,S=Z.tooltip,T=Z.tooltipVisible,P=p.gt(0)&&h.stakedBalance.gte(p);return(0,r.jsx)(f.Z,{flexDirection:"column",children:s?(0,r.jsx)(de.Z,{width:"100%",height:"52px"}):a?(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ke.ZP,{bold:!0,fontSize:"20px",decimals:3,value:j}),0!==u&&(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",children:(0,r.jsx)(ke.ZP,{fontSize:"12px",color:"textSubtle",decimals:2,value:b,prefix:"~",unit:" USD"})})]})}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(be.Z,{variant:"secondary",onClick:k,mr:"6px",children:(0,r.jsx)(ge.Z,{color:"primary",width:"24px"})}),P?(0,r.jsx)("span",{ref:w,children:(0,r.jsx)(be.Z,{variant:"secondary",disabled:!0,children:(0,r.jsx)(ve.Z,{color:"textDisabled",width:"24px",height:"24px"})})}):(0,r.jsx)(be.Z,{variant:"secondary",onClick:t.gt(0)?y:v,disabled:x,children:(0,r.jsx)(ve.Z,{color:"primary",width:"24px",height:"24px"})})]}),T&&S]}):(0,r.jsx)(fe.Z,{disabled:x,onClick:t.gt(0)?y:v,children:m("Stake")})})},Oe=t(10406);function Ce(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ie(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ce(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ae=function(e){var n=e.earnings,t=e.earningToken,o=e.sousId,i=e.isBnbPool,a=e.earningTokenPrice,l=e.isLoading,s=void 0!==l&&l,c=(0,g.$G)().t,u=(0,ye.mW)(n,t.decimals),p=(0,ye.uf)(u,3,3),h=(0,ye.mW)(n.multipliedBy(a),t.decimals),m=(0,ye.NJ)(n,t.decimals),j=n.toNumber()>0,b=0===o,v=Ie((0,je.Z)((0,r.jsx)(Oe.Z,{formattedBalance:p,fullBalance:m,earningToken:t,earningsDollarValue:h,sousId:o,isBnbPool:i,isCompoundPool:b})),1)[0];return(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,r.jsx)(f.Z,{flexDirection:"column",children:s?(0,r.jsx)(de.Z,{width:"80px",height:"48px"}):(0,r.jsx)(r.Fragment,{children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ke.ZP,{bold:!0,fontSize:"20px",decimals:5,value:u}),a>0&&(0,r.jsx)(ke.ZP,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:h,unit:" USD"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{color:"textDisabled",children:"0"}),(0,r.jsx)(d.Z,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),(0,r.jsx)(fe.Z,{disabled:!j,onClick:v,children:c(b?"Collect":"Harvest")})]})},De=t(73392);function ze(){var e,n,t=(e=["\n  display: inline;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return ze=function(){return t},t}var Be=(0,i.ZP)(d.Z).withConfig({componentId:"sc-58bfb2c0-0"})(ze()),Fe=function(e){var n=e.pool,t=e.stakedBalance,o=n.sousId,i=n.stakingToken,a=n.earningToken,l=n.poolCategory,s=n.userData,u=n.earningTokenPrice,d=n.profileRequirement,p=l===ce.jh.BINANCE,x=(0,g.$G)().t,h=(null===s||void 0===s?void 0:s.allowance)?new(c())(s.allowance):L.HW,m=(null===s||void 0===s?void 0:s.stakingTokenBalance)?new(c())(s.stakingTokenBalance):L.HW,j=(null===s||void 0===s?void 0:s.pendingReward)?new(c())(s.pendingReward):L.HW,b=!h.gt(0)&&!p,v=t.gt(0),y=!s,k=(0,ue.f)(d),Z=k.notMeetRequired,w=k.notMeetThreshold;return(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(se.Z,{display:"inline",children:[(0,r.jsx)(Be,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(a.symbol," ")}),(0,r.jsx)(Be,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:x("Earned")})]}),(0,r.jsx)(Ae,{earnings:j,earningToken:a,sousId:o,earningTokenPrice:u,isBnbPool:p,isLoading:y})]}),(0,r.jsxs)(se.Z,{display:"inline",children:[(0,r.jsxs)(Be,{color:v?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[v?i.symbol:x("Stake")," "]}),(0,r.jsx)(Be,{color:v?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:v?x("Staked"):"".concat(i.symbol)})]}),Z||w?(0,r.jsx)(De.Q,{profileRequirement:d}):b?(0,r.jsx)(me,{pool:n,isLoading:y}):(0,r.jsx)(Pe,{isLoading:y,pool:n,stakingTokenBalance:m,stakedBalance:t,isBnbPool:p,isStaked:v})]})})},Ee=function(e){var n=e.pool,t=e.account,o=n.sousId,i=n.stakingToken,a=n.earningToken,l=n.isFinished,s=n.userData,u=(0,g.$G)().t,p=(null===s||void 0===s?void 0:s.stakedBalance)?new(c())(s.stakedBalance):L.HW,x=p.gt(0),h="METEORITE"===a.symbol&&"METEORITE"===i.symbol;return(0,r.jsxs)(W,{isFinished:l&&0!==o,ribbon:l&&(0,r.jsx)(B.Z,{variantColor:"textDisabled",text:u("Finished")}),children:[(0,r.jsxs)(le,{isStaking:x,isFinished:l&&0!==o,children:[(0,r.jsx)(ae,{title:h?u("Manual"):u("Earn %asset%",{asset:a.symbol}),subTitle:h?u("Earn METEORITE, stake METEORITE"):u("Stake %symbol%",{symbol:i.symbol})}),(0,r.jsx)(R.q,{primaryToken:a,secondaryToken:i,width:64,height:64})]}),(0,r.jsxs)(F.Z,{children:[(0,r.jsx)($,{pool:n,stakedBalance:p}),(0,r.jsx)(f.Z,{mt:"24px",flexDirection:"column",children:t?(0,r.jsx)(Fe,{pool:n,stakedBalance:p}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"#000000",bold:!0,children:u("Start earning")}),(0,r.jsx)(E.Z,{})]})})]}),(0,r.jsx)(te,{pool:n,account:t})]})},Le=t(81658),Re=t(87717),Me=t(68129),Ue=t(66634),Ne=t(45522),$e=t(62671),Ke=t(57742),Ge=function(e){var n=e.cakeToDisplay,t=e.pool,o=e.account,i=(0,M.Z)((0,r.jsx)(Ke.Z,{pool:t,account:o}),{placement:"bottom-end"}),a=i.targetRef,l=i.tooltip,s=i.tooltipVisible;return(0,r.jsxs)(r.Fragment,{children:[s&&l,(0,r.jsx)(U.Z,{ref:a,small:!0,children:(0,r.jsx)(ke.ZP,{fontSize:"14px",value:n})})]})},We=function(e){var n=e.pool,t=(0,g.$G)().t,o=(0,u.Ge)().account,i=(0,y.eB)(n.vaultKey),a=i.pricePerFullShare,l=i.userData,s=l.cakeAtLastUserAction,c=l.userShares,p=l.currentOverdueFee,x=l.currentPerformanceFee,h=(0,Ne.Iu)(),m=(0,$e.UN)(o,s,c,a,h.toNumber(),x.plus(p)),j=m.hasAutoEarnings,b=m.autoCakeToDisplay;return c.gt(0)&&o?(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{fontSize:"14px",children:"".concat(t("Recent METEORITE profit"),":")}),j&&(0,r.jsx)(Ge,{cakeToDisplay:b,pool:n,account:o})]}):null},He=t(81040),Ve=t(21730),Ye=t(8131),Xe=t(62870);function Je(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Qe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Je(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Je(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(){var e,n,t=(e=["\n  &:hover {\n    opacity: 0.5;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return _e=function(){return t},t}var qe=(0,i.ZP)(f.Z).withConfig({componentId:"sc-896a5d9d-0"})(_e()),en=(0,o.memo)((function(e){var n=e.pool,t=(0,g.$G)().t,o=(0,Ye.o)(),i=o.flexibleApy,a=o.lockedApy,l=Qe((0,je.Z)((0,r.jsx)(Xe.E,{pool:n})),1)[0],s=Qe((0,je.Z)((0,r.jsx)(Xe.E,{pool:n,initialView:1})),1)[0];return(0,r.jsxs)(Ve.m5,{children:[(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(d.Z,{color:"#ffffff",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t("Flexible")," APY:"]}),i?(0,r.jsxs)(qe,{alignItems:"center",justifyContent:"flex-start",children:[(0,r.jsx)(ke.ZP,{fontSize:"16px",color:"white",value:parseFloat(i),decimals:2,unit:"%",bold:!0}),(0,r.jsx)(fe.Z,{onClick:function(e){e.stopPropagation(),l()},variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,r.jsx)(He.Z,{color:"#ffffff",width:"20px"})})]}):(0,r.jsx)(de.Z,{width:"80px",height:"16px"})]}),(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(d.Z,{color:"#ffffff",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t("Locked")," APY:"]}),a?(0,r.jsxs)(Z.O,{gap:"4px",flexWrap:"wrap",justifyContent:"flex-end",children:[(0,r.jsx)(d.Z,{style:{whiteSpace:"nowrap"},bold:!0,children:t("Up to")}),(0,r.jsxs)(qe,{alignItems:"center",children:[(0,r.jsx)(ke.ZP,{fontSize:"16px",color:"white",value:parseFloat(a),decimals:2,unit:"%",bold:!0}),(0,r.jsx)(fe.Z,{onClick:function(e){e.stopPropagation(),s()},variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,r.jsx)(He.Z,{color:"#ffffff",width:"20px"})})]})]}):(0,r.jsx)(de.Z,{width:"80px",height:"16px"})]})]})})),nn=function(e){var n=e.isLoading,t=void 0!==n&&n,o=e.setLastUpdated,i=(0,g.$G)().t,a=(0,he.Le)(o),l=a.handleApprove,s=a.pendingTx;return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(de.Z,{width:"100%",height:"52px"}):(0,r.jsx)(fe.Z,{isLoading:s,endIcon:s?(0,r.jsx)(pe.Z,{spin:!0,color:"currentColor"}):null,disabled:s,onClick:l,width:"100%",children:i("Enable")})})},tn=t(96302),rn=t(12633),on=t(88354),an=t(79905);function ln(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function sn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ln(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ln(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cn=function(e){var n=e.pool,t=e.stakingTokenBalance,o=e.performanceFee,i=(0,y.eB)(n.vaultKey).userData.balance,a=i.cakeAsBigNumber,l=i.cakeAsNumberBalance,s=n.stakingToken,c=(0,Ne.Iu)(),u=c.gt(0)?(0,ye.mW)(a.multipliedBy(c),s.decimals):0,p=sn((0,je.Z)((0,r.jsx)(Ze.Z,{tokenSymbol:s.symbol})),1)[0],x=sn((0,je.Z)((0,r.jsx)(rn.Z,{stakingMax:t,performanceFee:o,pool:n})),1)[0],h=sn((0,je.Z)((0,r.jsx)(rn.Z,{stakingMax:a,pool:n,isRemovingStake:!0}),!0,!0,"withdraw-vault"),1)[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.Z,{mb:"16px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsx)(ke.ZP,{fontSize:"20px",bold:!0,value:l,decimals:5}),(0,r.jsx)(d.Z,{as:f.Z,fontSize:"12px",color:"textSubtle",flexWrap:"wrap",children:c.gt(0)?(0,r.jsx)(ke.ZP,{value:u,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):(0,r.jsx)(de.Z,{mt:"1px",height:16,width:64})})]}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(be.Z,{variant:"secondary",onClick:h,mr:"6px",children:(0,r.jsx)(ge.Z,{color:"primary",width:"24px"})}),(0,r.jsx)(be.Z,{variant:"secondary",onClick:t.gt(0)?x:p,children:(0,r.jsx)(ve.Z,{color:"primary",width:"24px",height:"24px"})})]})]}),(0,r.jsx)(se.Z,{mb:"16px",children:(0,r.jsx)(an.Z,{stakingToken:s,currentStakedAmount:l})})]})};function un(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function dn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return un(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return un(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn=function(e){var n=e.pool,t=e.stakingTokenBalance,o=e.accountHasSharesStaked,i=e.performanceFee,a=n.stakingToken,l=n.userDataLoaded,s=dn((0,je.Z)((0,r.jsx)(Ze.Z,{tokenSymbol:a.symbol})),1)[0],c=dn((0,je.Z)((0,r.jsx)(rn.Z,{stakingMax:t,pool:n,performanceFee:i})),1)[0],u=dn((0,je.Z)((0,r.jsx)(on.Z,{currentBalance:t,stakingToken:a,stakingTokenBalance:t})),1)[0];return(0,r.jsx)(f.Z,{flexDirection:"column",children:l?o?(0,r.jsx)(cn,{pool:n,stakingTokenBalance:t,performanceFee:i}):(0,r.jsx)(tn.w,{onFlexibleClick:t.gt(0)?c:s,onLockedClick:u}):(0,r.jsx)(de.Z,{width:"100%",height:"52px"})})};function pn(){var e,n,t=(e=["\n  display: inline;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return pn=function(){return t},t}var xn=(0,i.ZP)(d.Z).withConfig({componentId:"sc-c42efd3c-0"})(pn()),hn=function(e){var n=e.pool,t=e.accountHasSharesStaked,o=e.isLoading,i=e.performanceFee,a=n.stakingToken,l=n.userData,s=(0,g.$G)().t,u=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new(c())(l.stakingTokenBalance):L.HW,d=(0,he.dI)(),p=d.isVaultApproved,x=d.setLastUpdated;return(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsxs)(se.Z,{display:"inline",children:[(0,r.jsxs)(xn,{color:t?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t?a.symbol:s("Stake")," "]}),(0,r.jsx)(xn,{color:t?"textSubtle":"#FC8E1F",textTransform:"uppercase",bold:!0,fontSize:"12px",children:t?s("Staked"):"".concat(a.symbol)})]}),p?(0,r.jsx)(fn,{pool:n,stakingTokenBalance:u,accountHasSharesStaked:t,performanceFee:i}):(0,r.jsx)(nn,{isLoading:o,setLastUpdated:x})]})})},mn=t(55285),jn=t(61036),bn=t(30725),gn=t(94171),vn=t(63614),yn=t(13876),kn=t(62292),Zn=t(38413),wn=function(e){var n=e.userShares,t=e.locked,i=e.lockEndTime,a=e.lockStartTime,l=e.stakingToken,s=e.stakingTokenBalance,u=e.lockedAmount,d=(0,o.useMemo)((function(){return(0,mn.cP)({userShares:n,locked:t,lockEndTime:i})}),[n,t,i]),p=(0,g.$G)().t,x=(0,ye.mW)(u),h=(0,o.useMemo)((function(){return s?new(c())(s):L.HW}),[s]);return d===mn.PS.Locked?(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(se.Z,{width:"100%",mr:"4px",children:(0,r.jsx)(yn.Z,{lockEndTime:i,lockStartTime:a,currentLockedAmount:u,stakingToken:l,currentBalance:h,stakingTokenBalance:s})}),(0,r.jsx)(se.Z,{width:"100%",ml:"4px",children:(0,r.jsx)(kn.Z,{lockEndTime:i,lockStartTime:a,stakingToken:l,currentLockedAmount:x,children:p("Extend")})})]}):(0,r.jsx)(Zn.Z,{lockEndTime:i,lockStartTime:a,position:d,currentLockedAmount:x,stakingToken:l})},Sn=t(78661),Tn=t(43229),Pn=t(40504),On=function(e){var n,t=e.stakingToken,i=e.stakingTokenBalance,a=e.userData,l=(0,g.$G)().t,s=(0,o.useMemo)((function(){return(0,mn.cP)({userShares:null===a||void 0===a?void 0:a.userShares,locked:null===a||void 0===a?void 0:a.locked,lockEndTime:null===a||void 0===a?void 0:a.lockEndTime})}),[a]),c=(0,o.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.balance)||void 0===e?void 0:e.cakeAsBigNumber}),[null===a||void 0===a||null===(n=a.balance)||void 0===n?void 0:n.cakeAsBigNumber]),u=(0,ye.mW)(c),p=(0,bn.Tx)(u),x=(0,Pn.Z)({lockStartTime:null===a||void 0===a?void 0:a.lockStartTime,lockEndTime:null===a||void 0===a?void 0:a.lockEndTime}),h=x.weekDuration,m=x.lockEndDate,j=x.secondDuration,b=x.remainingTime,v=(0,Ye.o)({duration:j}).lockedApy,y=(0,o.useMemo)((function(){return(0,ye.mW)(c.minus(null===a||void 0===a?void 0:a.cakeAtLastUserAction))}),[c,null===a||void 0===a?void 0:a.cakeAtLastUserAction]),k=l("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns."),Z=(0,M.Z)(k,{placement:"bottom-start"}),w=Z.targetRef,S=Z.tooltip,T=Z.tooltipVisible;return(0,r.jsxs)(Ve.m5,{children:[(0,r.jsxs)(f.Z,{justifyContent:"space-between",mb:"16px",children:[(0,r.jsxs)(se.Z,{children:[(0,r.jsx)(d.Z,{textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("METEORITE locked")}),(0,r.jsx)(ke.sC,{bold:!0,fontSize:"16px",value:u,decimals:5}),(0,r.jsx)(ke.sC,{value:p,fontSize:"12px",decimals:2,prefix:"~",unit:" USD"})]}),(0,r.jsxs)(se.Z,{children:[(0,r.jsx)(d.Z,{textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("Unlocks In")}),(0,r.jsx)(d.Z,{color:s>=mn.PS.LockedEnd?"#D67E0A":"",bold:!0,fontSize:"16px",children:s>=mn.PS.LockedEnd?l("Unlocked"):b}),(0,r.jsx)(d.Z,{color:s>=mn.PS.LockedEnd?"#D67E0A":"",fontSize:"12px",children:l("On %date%",{date:m})})]})]}),(0,r.jsx)(se.Z,{mb:"16px",children:(0,r.jsx)(wn,{userShares:null===a||void 0===a?void 0:a.userShares,locked:null===a||void 0===a?void 0:a.locked,lockEndTime:null===a||void 0===a?void 0:a.lockEndTime,lockStartTime:null===a||void 0===a?void 0:a.lockStartTime,stakingToken:t,stakingTokenBalance:i,lockedAmount:c})}),(0,r.jsx)(jn.Z,{}),![mn.PS.LockedEnd,mn.PS.AfterBurning].includes(s)&&(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[T&&S,(0,r.jsx)(U.Z,{children:(0,r.jsx)(d.Z,{ref:w,textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("APY")})}),(0,r.jsx)(ke.sC,{bold:!0,fontSize:"16px",value:parseFloat(v),decimals:2,unit:"%"})]}),(0,r.jsx)(Tn.Z,{weekDuration:h}),![mn.PS.LockedEnd,mn.PS.AfterBurning].includes(s)&&(0,r.jsx)(Sn.Z,{secondDuration:j}),(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("Recent METEORITE profit")}),(0,r.jsx)(ke.sC,{bold:!0,fontSize:"16px",value:y,decimals:5})]}),s===mn.PS.LockedEnd&&(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("After Burning In")}),(0,r.jsx)(d.Z,{color:"failure",bold:!0,children:(0,r.jsx)(vn.Z,{lockEndTime:null===a||void 0===a?void 0:a.lockEndTime})})]}),s===mn.PS.AfterBurning&&(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("After burning")}),(0,r.jsx)(d.Z,{color:"failure",bold:!0,children:(0,gn.Z)(null===a||void 0===a?void 0:a.currentOverdueFee)?"-":l("%amount% Burned",{amount:(0,ye.NJ)(null===a||void 0===a?void 0:a.currentOverdueFee,18,5)})})]})]})},Cn=(0,o.memo)(On);function In(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function An(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){In(e,n,t[n])}))}return e}function Dn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function zn(){var e,n,t=(e=["\n  min-height: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return zn=function(){return t},t}var Bn=(0,i.ZP)(F.Z).withConfig({componentId:"sc-d240fb0a-0"})(zn(),(function(e){return e.isLoading?"0":"254px"})),Fn=function(e){var n,t,o=e.pool,i=e.showStakedOnly,a=e.defaultFooterExpanded,l=Dn(e,["pool","showStakedOnly","defaultFooterExpanded"]),s=(0,g.$G)().t,c=(0,u.Ge)().account,p=(0,y.eB)(o.vaultKey),x=p.userData,h=x.userShares,m=x.isLoading,j=p.fees.performanceFeeAsDecimal,b=h&&h.gt(0),v=!o.userData||m;return i&&!b?null:(0,r.jsxs)(W,An({isActive:!0},l,{children:[(0,r.jsxs)(le,{isStaking:b,children:[(0,r.jsx)(ae,{title:Re.Y4[o.vaultKey].name,subTitle:Re.Y4[o.vaultKey].description}),(0,r.jsx)(Le.Z,An({},Re.Y4[o.vaultKey].tokenImage,{width:64,height:64}))]}),(0,r.jsxs)(Bn,{isLoading:v,children:[c&&(0,r.jsx)(Me.X,{userData:p.userData}),c&&(null===p||void 0===p||null===(n=p.userData)||void 0===n?void 0:n.locked)?(0,r.jsx)(Cn,{userData:null===p||void 0===p?void 0:p.userData,stakingToken:null===o||void 0===o?void 0:o.stakingToken,stakingTokenBalance:null===o||void 0===o||null===(t=o.userData)||void 0===t?void 0:t.stakingTokenBalance}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{pool:o}),(0,r.jsxs)(Z.O,{mt:"16px",gap:"24px",flexDirection:b?"column-reverse":"column",children:[(0,r.jsxs)(se.Z,{children:[c&&(0,r.jsx)(se.Z,{mb:"8px",children:(0,r.jsx)(Ue.Z,{vaultKey:o.vaultKey})}),(0,r.jsx)(We,{pool:o})]}),(0,r.jsx)(f.Z,{flexDirection:"column",children:c?(0,r.jsx)(hn,{pool:o,accountHasSharesStaked:b,isLoading:v,performanceFee:j}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"#000000",bold:!0,children:s("Start earning")}),(0,r.jsx)(E.Z,{})]})})]})]})]}),(0,r.jsx)(te,{defaultExpanded:a,pool:o,account:c})]}))},En=t(45017),Ln=t(32213),Rn=t(86900),Mn=t(20755),Un=t(99493),Nn=t(31389);function $n(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Kn(){var e=$n(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"]);return Kn=function(){return e},e}function Gn(){var e=$n(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"]);return Gn=function(){return e},e}function Wn(){var e=$n(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"]);return Wn=function(){return e},e}var Hn=i.ZP.div.withConfig({componentId:"sc-635e85a2-0"})(Kn(),d.Z),Vn=i.ZP.div.withConfig({componentId:"sc-635e85a2-1"})(Gn(),(function(e){return e.theme.mediaQueries.sm})),Yn=i.ZP.div.withConfig({componentId:"sc-635e85a2-2"})(Wn(),(function(e){return e.theme.mediaQueries.sm})),Xn=function(e){var n=e.stakedOnly,t=e.setStakedOnly,o=e.hasStakeInFinishedPools,i=e.viewMode,a=e.setViewMode,l=(0,I.useRouter)(),s=(0,g.$G)().t,c="/pools"===l.asPath,u=(0,r.jsx)(Ln.Z,{idPrefix:"clickPool",viewMode:i,onToggle:function(e){return a(e)}}),f=(0,r.jsx)(Yn,{children:(0,r.jsxs)(Rn.Z,{activeIndex:c?0:1,scale:"sm",children:[(0,r.jsx)(Mn.Z,{as:En.a,to:"/pools",replace:!0,children:s("Live")}),(0,r.jsx)(Un.Z,{show:o,children:(0,r.jsx)(Mn.Z,{id:"finished-pools-button",as:En.a,to:"/pools/history",replace:!0,children:s("Finished")})})]})}),p=(0,r.jsxs)(Hn,{children:[(0,r.jsx)(Nn.Z,{checked:n,onChange:function(){return t(!n)},scale:"sm"}),(0,r.jsxs)(d.Z,{color:"#000000",children:[" ",s("Staked only")]})]});return(0,r.jsxs)(Vn,{children:[u,p,f]})},Jn=t(79780),Qn=t(27697),_n=t(5723),qn=t(27030),et=t(42169),nt=t(29793);function tt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function rt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return tt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tt(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(){var e,n,t=(e=["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return ot=function(){return t},t}var it=(0,i.ZP)(nt.Z).withConfig({componentId:"sc-8fc30a37-0"})(ot(),(function(e){return e.theme.mediaQueries.sm})),at=function(e){var n=e.pool,t=e.account,o=(0,g.$G)().t,i=(0,qn.Z)().isMobile,a=n.sousId,l=n.earningToken,s=n.poolCategory,u=n.userData,p=n.earningTokenPrice,x=0===a,h=(null===u||void 0===u?void 0:u.pendingReward)?new(c())(u.pendingReward):L.HW,m=(0,ye.mW)(h,l.decimals),j=(0,ye.mW)(h.multipliedBy(p),l.decimals),b=t&&h.gt(0),v=(0,ye.NJ)(h,l.decimals),y=(0,ye.uf)(m,3,3),k=s===ce.jh.BINANCE,Z=o("%asset% Earned",{asset:l.symbol}),w=rt((0,je.Z)((0,r.jsx)(Oe.Z,{formattedBalance:y,fullBalance:v,earningToken:l,earningsDollarValue:j,sousId:a,isBnbPool:k,isCompoundPool:x})),1)[0];return(0,r.jsx)(it,{role:"cell",children:(0,r.jsxs)(nt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"#000000",textAlign:"left",children:Z}),!n.userDataLoaded&&t?(0,r.jsx)(de.Z,{width:"80px",height:"16px"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(se.Z,{mr:"8px",height:"32px",onClick:b?function(e){e.stopPropagation(),w()}:void 0,children:[(0,r.jsx)(ke.ZP,{mt:"4px",bold:!i,fontSize:i?"14px":"16px",color:b?"primary":"#000000",decimals:b?5:1,value:b?m:0}),b?(0,r.jsx)(r.Fragment,{children:p>0&&(0,r.jsx)(ke.ZP,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:j,unit:" USD"})}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})},lt=t(5948);function st(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return st=function(){return t},t}var ct=(0,i.ZP)(nt.Z).withConfig({componentId:"sc-5c4ca8b6-0"})(st()),ut=function(e){var n=e.pool,t=(0,g.$G)().t,i=n.stakingToken,a=n.totalStaked,l=n.vaultKey,s=(0,y.eB)(l).totalCakeInVault,c=(0,o.useMemo)((function(){return l?(0,ye.mW)(s,i.decimals):(0,ye.mW)(a,i.decimals)}),[l,s,a,i.decimals]);return(0,r.jsx)(ct,{role:"cell",children:(0,r.jsxs)(nt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"#000000",textAlign:"left",children:t("Total staked")}),a&&a.gte(0)?(0,r.jsx)(f.Z,{height:"20px",alignItems:"center",children:(0,r.jsx)(ke.ZP,{fontSize:"16px",value:c,decimals:0,unit:" ".concat(i.symbol)})}):(0,r.jsx)(de.Z,{width:"80px",height:"16px"})]})})},dt=t(80490),ft=t(45332);function pt(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return pt=function(){return t},t}var xt=(0,i.ZP)(nt.Z).withConfig({componentId:"sc-d96114e8-0"})(pt()),ht=function(e){var n=e.pool,t=n.sousId,o=n.totalStaked,i=n.startBlock,a=n.endBlock,l=n.isFinished,s=(0,D.je)(),c=(0,g.$G)().t,u=(0,$e.zy)(n,s),x=u.shouldShowBlockCountdown,h=u.blocksUntilStart,m=u.blocksRemaining,j=u.hasPoolStarted,b=u.blocksToDisplay,v=0===t,y=x?(0,r.jsxs)(f.Z,{alignItems:"center",children:[(0,r.jsxs)(f.Z,{flex:"1.3",children:[(0,r.jsx)(ke.ZP,{fontSize:"16px",value:b,decimals:0}),(0,r.jsx)(d.Z,{ml:"4px",textTransform:"lowercase",children:c("Blocks")})]}),(0,r.jsx)(f.Z,{flex:"1",children:(0,r.jsx)(p.Z,{external:!0,href:(0,ft.s6)(j?a:i,"countdown"),onClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(dt.Z,{ml:"4px"})})})]}):(0,r.jsx)(d.Z,{children:"-"}),k=!s||!m&&!h,Z=(j&&!o.gt(0)||k)&&!v&&!l;return(0,r.jsx)(xt,{role:"cell",children:(0,r.jsxs)(nt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"#000000",textAlign:"left",children:c(j||!x?"Ends in":"Starts in")}),Z?(0,r.jsx)(de.Z,{width:"80px",height:"16px"}):y]})})},mt=t(96947),jt=t(76150),bt=t(14979),gt=t(85242);function vt(){var e,n,t=(e=[""],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return vt=function(){return t},t}var yt=(0,i.ZP)(nt.Z).withConfig({componentId:"sc-97584dcc-0"})(vt()),kt=function(e){var n=e.pool,t=e.account,o=(0,g.$G)().t,i=(0,qn.Z)().isMobile,a=(0,y.eB)(n.vaultKey).userData,l=a.locked,s=a.isLoading,u=a.userShares,p=a.balance,x=p.cakeAsBigNumber,h=p.cakeAsNumberBalance,m=u&&u.gt(0),j=n.vaultKey&&m,b=n.stakingTokenPrice,v=n.stakingToken,k=n.userData,Z=(0,ye.mW)(x.multipliedBy(b),v.decimals),w=(null===k||void 0===k?void 0:k.stakedBalance)?new(c())(k.stakedBalance):L.HW,S=(0,ye.mW)(w,v.decimals),T=(0,ye.mW)(w.multipliedBy(b),v.decimals),P="".concat(n.stakingToken.symbol," ").concat(o(l?"Locked":"Staked")),O=t&&(w.gt(0)||j),C=n.vaultKey?s:!n.userDataLoaded;return(0,r.jsx)(yt,{role:"cell",flex:n.vaultKey&&!O?"1 0 120px":"2 0 100px",children:(0,r.jsxs)(nt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"#000000",textAlign:"left",children:P}),C&&t?(0,r.jsx)(de.Z,{width:"80px",height:"16px"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(se.Z,{mr:"8px",height:"32px",children:[(0,r.jsx)(ke.ZP,{mt:"4px",bold:!i,fontSize:i?"14px":"16px",color:O?"primary":"#000000",decimals:O?5:1,value:O?n.vaultKey?Number.isNaN(h)?0:h:S:0}),O?(0,r.jsx)(ke.ZP,{display:"inline",fontSize:"12px",color:"#000000",decimals:2,prefix:"~",value:n.vaultKey?Z:T,unit:" USD"}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})};function Zt(){var e,n,t=(e=["\n  background-color: transparent;\n  display: flex;\n  cursor: pointer;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Zt=function(){return t},t}var wt=i.ZP.div.withConfig({componentId:"sc-77d726f1-0"})(Zt()),St=function(e){var n=e.pool,t=e.account,i=(0,qn.Z)(),a=i.isXs,l=i.isSm,s=i.isMd,c=i.isLg,u=i.isXl,d=i.isXxl,f=i.isTablet,p=i.isDesktop,x=c||u||d,h=u||d,m=(0,o.useState)(!1),j=m[0],b=m[1],g=(0,_n.Z)(j,300),v=0===n.sousId;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(wt,{role:"row",onClick:function(){b((function(e){return!e}))},children:[(0,r.jsx)(et.Z,{pool:n}),n.vaultKey?h&&n.vaultKey===Qn.om.CakeVault&&(0,r.jsx)(bt.Z,{pool:n,account:t}):(0,r.jsx)(at,{pool:n,account:t}),h&&n.vaultKey===Qn.om.CakeVault&&v?(0,r.jsx)(kt,{pool:n,account:t}):null,x&&!v&&(0,r.jsx)(ut,{pool:n}),n.vaultKey?(0,r.jsx)(gt.Z,{pool:n}):(0,r.jsx)(lt.Z,{pool:n}),x&&v&&(0,r.jsx)(ut,{pool:n}),p&&!v&&(0,r.jsx)(ht,{pool:n}),(0,r.jsx)(mt.Z,{expanded:j,isFullLayout:f||p})]}),g&&(0,r.jsx)(jt.Z,{account:t,pool:n,expanded:j,breakpoints:{isXs:a,isSm:l,isMd:s,isLg:c,isXl:u,isXxl:d}})]})};function Tt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Pt(){var e=Tt(["\n  // border-radius: ",";\n  scroll-margin-top: 64px;\n  background-color: #ffffff;\n  > div:not(:last-child) {\n    border: 1px solid #D9D9D9;\n  }\n"]);return Pt=function(){return e},e}function Ot(){var e=Tt(["\n  border-top: 1px solid ",";\n  // border-radius: ",";\n  // background-color: ",";\n  // padding: 1px 1px 3px 1px;\n  // background-size: 400% 400%;\n"]);return Ot=function(){return e},e}function Ct(){var e=Tt(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]);return Ct=function(){return e},e}var It=i.ZP.div.withConfig({componentId:"sc-6c8c7aec-0"})(Pt(),(function(e){return e.theme.radii.card})),At=i.ZP.div.withConfig({componentId:"sc-6c8c7aec-1"})(Ot(),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.cardBorder})),Dt=i.ZP.div.withConfig({componentId:"sc-6c8c7aec-2"})(Ct()),zt=function(e){var n,t=e.pools,i=e.account,a=(0,g.$G)().t,l=(0,o.useRef)(null);return(0,r.jsx)(At,{children:(0,r.jsxs)(It,{id:"pools-table",role:"table",ref:l,children:[t.map((function(e){return(0,r.jsx)(St,{pool:e,account:i},null!==(n=e.vaultKey)&&void 0!==n?n:e.sousId)})),(0,r.jsx)(Dt,{children:(0,r.jsxs)(fe.Z,{variant:"text",onClick:function(){l.current.scrollIntoView({behavior:"smooth"})},children:[a("To Top"),(0,r.jsx)(Jn.Z,{color:"#FC8E1F"})]})})]})})};function Bt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ft(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Bt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bt(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Lt(){var e=Et(["\n  justify-content: center;\n"]);return Lt=function(){return e},e}function Rt(){var e=Et(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"]);return Rt=function(){return e},e}function Mt(){var e=Et(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"]);return Mt=function(){return e},e}function Ut(){var e=Et(["\n  > "," {\n    font-size: 12px;\n  }\n"]);return Ut=function(){return e},e}function Nt(){var e=Et(["\n  > div {\n    flex: 1;\n  }\n"]);return Nt=function(){return e},e}function $t(){var e=Et(["\n  padding-bottom: 32px;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"]);return $t=function(){return e},e}function Kt(){var e=Et(["\n  font-weight: 400;\n  white-space: nowrap;\n  text-decoration: underline;\n"]);return Kt=function(){return e},e}var Gt=(0,i.ZP)(Z.Z).withConfig({componentId:"sc-f3d6fb5d-0"})(Lt()),Wt=i.ZP.div.withConfig({componentId:"sc-f3d6fb5d-1"})(Rt(),(function(e){return e.theme.mediaQueries.sm})),Ht=i.ZP.div.withConfig({componentId:"sc-f3d6fb5d-2"})(Mt(),(function(e){return e.theme.mediaQueries.sm})),Vt=i.ZP.div.withConfig({componentId:"sc-f3d6fb5d-3"})(Ut(),d.Z),Yt=(0,i.ZP)(f.Z).withConfig({componentId:"sc-f3d6fb5d-4"})(Nt()),Xt=((0,i.ZP)(f.Z).withConfig({componentId:"sc-f3d6fb5d-5"})($t(),(function(e){return e.theme.mediaQueries.md})),(0,i.ZP)(p.Z).withConfig({componentId:"sc-f3d6fb5d-6"})(Kt()),60/z.hJ*4),Jt=function(){var e=(0,I.useRouter)(),n=(0,g.$G)().t,t=(0,u.Ge)().account,i=(0,y.f6)(),s=i.pools,p=i.userDataLoaded,h=Ft((0,O.tw)(),2),j=h[0],Z=h[1],z=Ft((0,O.Yi)(),2),B=z[0],F=z[1],E=(0,o.useState)(12),L=E[0],R=E[1],M=(0,v.Z)(),U=M.observerRef,N=M.isIntersecting,$=(0,o.useState)(""),K=$[0],G=$[1],W=(0,o.useState)("hot"),H=W[0],V=W[1],Y=(0,o.useRef)(0),X=(0,D.Xh)(),J=(0,o.useMemo)((function(){return b()(s,(function(e){return e.isFinished}))}),[s]),Q=J[0],_=J[1],q=(0,o.useMemo)((function(){return _.filter((function(e){return!(X>0&&e.startBlock)||Number(e.startBlock)<X+Xt}))}),[X,_]),ee=(0,o.useMemo)((function(){return Q.filter((function(e){if(e.vaultKey){var n=e;return n.userData.userShares&&n.userData.userShares.gt(0)}return e.userData&&new(c())(e.userData.stakedBalance).isGreaterThan(0)}))}),[Q]),ne=(0,o.useCallback)((function(){return q.filter((function(e){if(e.vaultKey){var n=e;return n.userData.userShares&&n.userData.userShares.gt(0)}return e.userData&&new(c())(e.userData.stakedBalance).isGreaterThan(0)}))}),[q]),te=ee.length>0;(0,y.l7)(),(0,o.useEffect)((function(){N&&R((function(e){return e<=Y.current?e+12:e}))}),[N]);var re,oe=e.pathname.includes("history"),ie=(0,o.useCallback)((function(e){return G(e.target.value)}),[]),ae=(0,o.useCallback)((function(e){return V(e.value)}),[]);re=oe?j?ee:Q:j?ne():q,re=(0,o.useMemo)((function(){var e=function(e,n,t,r){switch(n){case"apr":return m()(r,(function(e){return e.apr?e.apr:0}),"desc");case"earned":return m()(r,(function(n){if(!n.userData||!n.earningTokenPrice)return 0;if(n.vaultKey){var t=n;return t.userData&&t.userData.userShares?(0,$e.UN)(e,t.userData.cakeAtLastUserAction,t.userData.userShares,t.pricePerFullShare,t.earningTokenPrice,t.userData.currentOverdueFee.plus(t.userData.currentPerformanceFee)).autoUsdToDisplay:0}return n.userData.pendingReward.times(n.earningTokenPrice).toNumber()}),"desc");case"totalStaked":return m()(r,(function(e){var n,t=Number.NaN;if(e.vaultKey){var r=e;e.stakingTokenPrice&&r.totalCakeInVault.isFinite()&&(t=+(0,l.bM)(a.O$.from(r.totalCakeInVault.toString()),e.stakingToken.decimals)*e.stakingTokenPrice)}else(null===(n=e.totalStaked)||void 0===n?void 0:n.isFinite())&&e.stakingTokenPrice&&(t=+(0,l.bM)(a.O$.from(e.totalStaked.toString()),e.stakingToken.decimals)*e.stakingTokenPrice);return Number.isFinite(t)?t:0}),"desc");case"latest":return m()(r,(function(e){return Number(e.sousId)}),"desc");default:return r}}(t,H,0,re).slice(0,L);if(K){var n=(0,k.b)(K.toLowerCase());return e.filter((function(e){return(0,k.b)(e.earningToken.symbol.toLowerCase()).includes(n)}))}return e}),[t,H,s,re,L,K]),Y.current=re.length;var le=(0,r.jsx)(Gt,{children:re.map((function(e){return e.vaultKey?(0,r.jsx)(Fn,{pool:e,showStakedOnly:j},e.vaultKey):(0,r.jsx)(Ee,{pool:e,account:t},e.sousId)}))}),se=(0,r.jsx)(zt,{pools:re,account:t});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{background:"#ffffff",children:(0,r.jsx)(f.Z,{justifyContent:"space-between",flexDirection:["column",null,null,"row"],children:(0,r.jsxs)(f.Z,{flex:"1",flexDirection:"column",mr:["8px",0],children:[(0,r.jsx)(x.Z,{as:"h1",scale:"xxl",color:"#FC8E1F",mb:"24px",children:n("BRISE Pools")}),(0,r.jsx)(x.Z,{scale:"md",color:"#000000",children:n("Just stake some tokens to earn.")}),(0,r.jsx)(x.Z,{scale:"md",color:"#000000",children:n("High APR, low risk.")})]})})}),(0,r.jsxs)(w.Z,{children:[(0,r.jsxs)(Wt,{children:[(0,r.jsx)(Xn,{stakedOnly:j,setStakedOnly:Z,hasStakeInFinishedPools:te,viewMode:B,setViewMode:F}),(0,r.jsxs)(Ht,{children:[(0,r.jsxs)(Vt,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"#000000",textTransform:"uppercase",children:n("Sort by")}),(0,r.jsx)(Yt,{children:(0,r.jsx)(P.Z,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("Earned"),value:"earned"},{label:n("Total staked"),value:"totalStaked"},{label:n("Latest"),value:"latest"}],onOptionChange:ae})})]}),(0,r.jsxs)(Vt,{style:{marginLeft:16},children:[(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"#000000",textTransform:"uppercase",children:n("Search")}),(0,r.jsx)(T.Z,{onChange:ie,placeholder:"Search Pools"})]})]})]}),oe,t&&!p&&j&&(0,r.jsx)(f.Z,{justifyContent:"center",mb:"4px",children:(0,r.jsx)(A.Z,{})}),B===C.wO.CARD?le:se,(0,r.jsx)("div",{ref:U})]})]})}}}]);
//# sourceMappingURL=1796-037cafc25d692d65.js.map